import{r as e,a as n,R as r}from"./vendor-CQJcVwtU.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))n(e);new MutationObserver(e=>{for(const r of e)if("childList"===r.type)for(const e of r.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&n(e)}).observe(document,{childList:!0,subtree:!0})}function n(e){if(e.ep)return;e.ep=!0;const n=function(e){const n={};return e.integrity&&(n.integrity=e.integrity),e.referrerPolicy&&(n.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?n.credentials="include":"anonymous"===e.crossOrigin?n.credentials="omit":n.credentials="same-origin",n}(e);fetch(e.href,n)}}();var t={exports:{}},s={};!function(){var n=e,r=Symbol.for("react.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),f=Symbol.for("react.offscreen"),v=Symbol.iterator;var h=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function y(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),t=1;t<n;t++)r[t-1]=arguments[t];!function(e,n,r){var t=h.ReactDebugCurrentFrame.getStackAddendum();""!==t&&(n+="%s",r=r.concat([t]));var s=r.map(function(e){return String(e)});s.unshift("Warning: "+n),Function.prototype.apply.call(console[e],console,s)}("error",e,r)}var N;function x(e){return e.displayName||"Context"}function g(e){if(null==e)return null;if("number"==typeof e.tag&&y("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),"function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case i:return"Fragment";case t:return"Portal";case a:return"Profiler";case o:return"StrictMode";case m:return"Suspense";case d:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case l:return x(e)+".Consumer";case c:return x(e._context)+".Provider";case u:return function(e,n,r){var t=e.displayName;if(t)return t;var s=n.displayName||n.name||"";return""!==s?r+"("+s+")":r}(e,e.render,"ForwardRef");case p:var n=e.displayName||null;return null!==n?n:g(e.type)||"Memo";case b:var r=e,s=r._payload,f=r._init;try{return g(f(s))}catch(v){return null}}return null}N=Symbol.for("react.module.reference");var k,w,E,j,C,D,P,U=Object.assign,V=0;function S(){}S.__reactDisabledLog=!0;var _,R=h.ReactCurrentDispatcher;function O(e,n,r){if(void 0===_)try{throw Error()}catch(s){var t=s.stack.trim().match(/\n( *(at )?)/);_=t&&t[1]||""}return"\n"+_+e}var I,T=!1,$="function"==typeof WeakMap?WeakMap:Map;function A(e,n){if(!e||T)return"";var r,t=I.get(e);if(void 0!==t)return t;T=!0;var s,i=Error.prepareStackTrace;Error.prepareStackTrace=void 0,s=R.current,R.current=null,function(){if(0===V){k=console.log,w=console.info,E=console.warn,j=console.error,C=console.group,D=console.groupCollapsed,P=console.groupEnd;var e={configurable:!0,enumerable:!0,value:S,writable:!0};Object.defineProperties(console,{info:e,log:e,warn:e,error:e,group:e,groupCollapsed:e,groupEnd:e})}V++}();try{if(n){var o=function(){throw Error()};if(Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(o,[])}catch(b){r=b}Reflect.construct(e,[],o)}else{try{o.call()}catch(b){r=b}e.call(o.prototype)}}else{try{throw Error()}catch(b){r=b}e()}}catch(f){if(f&&r&&"string"==typeof f.stack){for(var a=f.stack.split("\n"),c=r.stack.split("\n"),l=a.length-1,u=c.length-1;l>=1&&u>=0&&a[l]!==c[u];)u--;for(;l>=1&&u>=0;l--,u--)if(a[l]!==c[u]){if(1!==l||1!==u)do{if(l--,--u<0||a[l]!==c[u]){var m="\n"+a[l].replace(" at new "," at ");return e.displayName&&m.includes("<anonymous>")&&(m=m.replace("<anonymous>",e.displayName)),"function"==typeof e&&I.set(e,m),m}}while(l>=1&&u>=0);break}}}finally{T=!1,R.current=s,function(){if(0===--V){var e={configurable:!0,enumerable:!0,writable:!0};Object.defineProperties(console,{log:U({},e,{value:k}),info:U({},e,{value:w}),warn:U({},e,{value:E}),error:U({},e,{value:j}),group:U({},e,{value:C}),groupCollapsed:U({},e,{value:D}),groupEnd:U({},e,{value:P})})}V<0&&y("disabledDepth fell below zero. This is a bug in React. Please file an issue.")}(),Error.prepareStackTrace=i}var d=e?e.displayName||e.name:"",p=d?O(d):"";return"function"==typeof e&&I.set(e,p),p}function F(e,n,r){if(null==e)return"";if("function"==typeof e)return A(e,!(!(t=e.prototype)||!t.isReactComponent));var t;if("string"==typeof e)return O(e);switch(e){case m:return O("Suspense");case d:return O("SuspenseList")}if("object"==typeof e)switch(e.$$typeof){case u:return A(e.render,!1);case p:return F(e.type,n,r);case b:var s=e,i=s._payload,o=s._init;try{return F(o(i),n,r)}catch(a){}}return""}I=new $;var L=Object.prototype.hasOwnProperty,M={},G=h.ReactDebugCurrentFrame;function q(e){if(e){var n=e._owner,r=F(e.type,e._source,n?n.type:null);G.setExtraStackFrame(r)}else G.setExtraStackFrame(null)}var B=Array.isArray;function H(e){return B(e)}function z(e){return""+e}function W(e){if(function(e){try{return z(e),!1}catch(n){return!0}}(e))return y("The provided key is an unsupported type %s. This value must be coerced to a string before before using it here.",function(e){return"function"==typeof Symbol&&Symbol.toStringTag&&e[Symbol.toStringTag]||e.constructor.name||"Object"}(e)),z(e)}var K,J,Y,X=h.ReactCurrentOwner,Q={key:!0,ref:!0,__self:!0,__source:!0};Y={};function Z(e,n,t,s,i){var o,a={},c=null,l=null;for(o in void 0!==t&&(W(t),c=""+t),function(e){if(L.call(e,"key")){var n=Object.getOwnPropertyDescriptor(e,"key").get;if(n&&n.isReactWarning)return!1}return void 0!==e.key}(n)&&(W(n.key),c=""+n.key),function(e){if(L.call(e,"ref")){var n=Object.getOwnPropertyDescriptor(e,"ref").get;if(n&&n.isReactWarning)return!1}return void 0!==e.ref}(n)&&(l=n.ref,function(e,n){if("string"==typeof e.ref&&X.current&&n&&X.current.stateNode!==n){var r=g(X.current.type);Y[r]||(y('Component "%s" contains the string ref "%s". Support for string refs will be removed in a future major release. This case cannot be automatically converted to an arrow function. We ask you to manually fix this case by using useRef() or createRef() instead. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-string-ref',g(X.current.type),e.ref),Y[r]=!0)}}(n,i)),n)L.call(n,o)&&!Q.hasOwnProperty(o)&&(a[o]=n[o]);if(e&&e.defaultProps){var u=e.defaultProps;for(o in u)void 0===a[o]&&(a[o]=u[o])}if(c||l){var m="function"==typeof e?e.displayName||e.name||"Unknown":e;c&&function(e,n){var r=function(){K||(K=!0,y("%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",n))};r.isReactWarning=!0,Object.defineProperty(e,"key",{get:r,configurable:!0})}(a,m),l&&function(e,n){var r=function(){J||(J=!0,y("%s: `ref` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",n))};r.isReactWarning=!0,Object.defineProperty(e,"ref",{get:r,configurable:!0})}(a,m)}return function(e,n,t,s,i,o,a){var c={$$typeof:r,type:e,key:n,ref:t,props:a,_owner:o,_store:{}};return Object.defineProperty(c._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:!1}),Object.defineProperty(c,"_self",{configurable:!1,enumerable:!1,writable:!1,value:s}),Object.defineProperty(c,"_source",{configurable:!1,enumerable:!1,writable:!1,value:i}),Object.freeze&&(Object.freeze(c.props),Object.freeze(c)),c}(e,c,l,i,s,X.current,a)}var ee,ne=h.ReactCurrentOwner,re=h.ReactDebugCurrentFrame;function te(e){if(e){var n=e._owner,r=F(e.type,e._source,n?n.type:null);re.setExtraStackFrame(r)}else re.setExtraStackFrame(null)}function se(e){return"object"==typeof e&&null!==e&&e.$$typeof===r}function ie(){if(ne.current){var e=g(ne.current.type);if(e)return"\n\nCheck the render method of `"+e+"`."}return""}ee=!1;var oe={};function ae(e,n){if(e._store&&!e._store.validated&&null==e.key){e._store.validated=!0;var r=function(e){var n=ie();if(!n){var r="string"==typeof e?e:e.displayName||e.name;r&&(n="\n\nCheck the top-level render call using <"+r+">.")}return n}(n);if(!oe[r]){oe[r]=!0;var t="";e&&e._owner&&e._owner!==ne.current&&(t=" It was passed a child from "+g(e._owner.type)+"."),te(e),y('Each child in a list should have a unique "key" prop.%s%s See https://reactjs.org/link/warning-keys for more information.',r,t),te(null)}}}function ce(e,n){if("object"==typeof e)if(H(e))for(var r=0;r<e.length;r++){var t=e[r];se(t)&&ae(t,n)}else if(se(e))e._store&&(e._store.validated=!0);else if(e){var s=function(e){if(null===e||"object"!=typeof e)return null;var n=v&&e[v]||e["@@iterator"];return"function"==typeof n?n:null}(e);if("function"==typeof s&&s!==e.entries)for(var i,o=s.call(e);!(i=o.next()).done;)se(i.value)&&ae(i.value,n)}}function le(e){var n,r=e.type;if(null!=r&&"string"!=typeof r){if("function"==typeof r)n=r.propTypes;else{if("object"!=typeof r||r.$$typeof!==u&&r.$$typeof!==p)return;n=r.propTypes}if(n){var t=g(r);!function(e,n,r,t,s){var i=Function.call.bind(L);for(var o in e)if(i(e,o)){var a=void 0;try{if("function"!=typeof e[o]){var c=Error((t||"React class")+": "+r+" type `"+o+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof e[o]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw c.name="Invariant Violation",c}a=e[o](n,o,t,r,null,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED")}catch(l){a=l}!a||a instanceof Error||(q(s),y("%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",t||"React class",r,o,typeof a),q(null)),a instanceof Error&&!(a.message in M)&&(M[a.message]=!0,q(s),y("Failed %s type: %s",r,a.message),q(null))}}(n,e.props,"prop",t,e)}else if(void 0!==r.PropTypes&&!ee){ee=!0,y("Component %s declared `PropTypes` instead of `propTypes`. Did you misspell the property assignment?",g(r)||"Unknown")}"function"!=typeof r.getDefaultProps||r.getDefaultProps.isReactClassApproved||y("getDefaultProps is only used on classic React.createClass definitions. Use a static property named `defaultProps` instead.")}}var ue={};var me=function(e,n,t,s,v,h){var x=function(e){return"string"==typeof e||"function"==typeof e||e===i||e===a||e===o||e===m||e===d||e===f||"object"==typeof e&&null!==e&&(e.$$typeof===b||e.$$typeof===p||e.$$typeof===c||e.$$typeof===l||e.$$typeof===u||e.$$typeof===N||void 0!==e.getModuleId)}(e);if(!x){var k="";(void 0===e||"object"==typeof e&&null!==e&&0===Object.keys(e).length)&&(k+=" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.");var w,E=function(e){return void 0!==e?"\n\nCheck your code at "+e.fileName.replace(/^.*[\\\/]/,"")+":"+e.lineNumber+".":""}(v);k+=E||ie(),null===e?w="null":H(e)?w="array":void 0!==e&&e.$$typeof===r?(w="<"+(g(e.type)||"Unknown")+" />",k=" Did you accidentally export a JSX literal instead of a component?"):w=typeof e,y("React.jsx: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s",w,k)}var j=Z(e,n,t,v,h);if(null==j)return j;if(x){var C=n.children;if(void 0!==C)if(s)if(H(C)){for(var D=0;D<C.length;D++)ce(C[D],e);Object.freeze&&Object.freeze(C)}else y("React.jsx: Static children should always be an array. You are likely explicitly calling React.jsxs or React.jsxDEV. Use the Babel transform instead.");else ce(C,e)}if(L.call(n,"key")){var P=g(e),U=Object.keys(n).filter(function(e){return"key"!==e}),V=U.length>0?"{key: someKey, "+U.join(": ..., ")+": ...}":"{key: someKey}";if(!ue[P+V])y('A props object containing a "key" prop is being spread into JSX:\n  let props = %s;\n  <%s {...props} />\nReact keys must be passed directly to JSX without using spread:\n  let props = %s;\n  <%s key={someKey} {...props} />',V,P,U.length>0?"{"+U.join(": ..., ")+": ...}":"{}",P),ue[P+V]=!0}return e===i?function(e){for(var n=Object.keys(e.props),r=0;r<n.length;r++){var t=n[r];if("children"!==t&&"key"!==t){te(e),y("Invalid prop `%s` supplied to `React.Fragment`. React.Fragment can only have `key` and `children` props.",t),te(null);break}}null!==e.ref&&(te(e),y("Invalid attribute `ref` supplied to `React.Fragment`."),te(null))}(j):le(j),j};s.Fragment=i,s.jsxDEV=me}(),t.exports=s;var i=t.exports,o={},a=n,c=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;o.createRoot=function(e,n){c.usingClientEntryPoint=!0;try{return a.createRoot(e,n)}finally{c.usingClientEntryPoint=!1}},o.hydrateRoot=function(e,n,r){c.usingClientEntryPoint=!0;try{return a.hydrateRoot(e,n,r)}finally{c.usingClientEntryPoint=!1}};const l=e=>{const n=(()=>{const e="http://localhost:8000";return{baseUrl:e,isDocker:e.includes("host.docker.internal")||e.includes("host-gateway"),isProduction:!1}})();try{return new URL(n.baseUrl),n.baseUrl}catch{return console.warn("Invalid API URL, falling back to http://localhost:17498"),"http://localhost:17498"}},u=l();function m(){const[n,r]=e.useState("idle"),[t,s]=e.useState(null),[i,o]=e.useState(null);return{bookingStatus:n,bookingResponse:t,bookingError:i,triggerBooking:e.useCallback(async(e,n,t,i,a)=>{r("loading"),o(null),s(null);try{const o=await async function(e,n,r,t,s){const i={conversation:{conversation_id:e,customer_phone:n,callcenter_phone:t,hangup_at:Date.now().toString(),hangup_cause:"NORMAL_CLEARING",messages:r.map(e=>({role:e.role,content:e.content}))},extra:{dry_run:s}},o=await fetch(`${u}/webhook/callbot`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)});if(!o.ok){const e=await o.text();throw new Error(`Webhook failed (${o.status}): ${e}`)}return await o.json()}(e,n,t,i,a);s(o),r("success")}catch(c){const e=c instanceof Error?c.message:"Unknown error occurred";o(e),r("error"),s({error:e})}},[]),resetBooking:e.useCallback(()=>{r("idle"),s(null),o(null)},[])}}function d({message:e,turn:n}){const r="user"===e.role,t=["message-bubble",r?"user":"bot",e.streaming?"streaming":"",e.error?"error":""].filter(Boolean).join(" ");return i.jsxDEV("article",{className:t,children:[i.jsxDEV("header",{children:[i.jsxDEV("span",{className:"tag",children:r?"Pilot":"Biva AI Core"},void 0,!1,{fileName:"/Users/dynamite/workspaces/biva-vxr-ui/src/components/MessageBubble.tsx",lineNumber:22,columnNumber:9},this),i.jsxDEV("span",{className:"turn",children:["Turn #",n+1]},void 0,!0,{fileName:"/Users/dynamite/workspaces/biva-vxr-ui/src/components/MessageBubble.tsx",lineNumber:23,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/dynamite/workspaces/biva-vxr-ui/src/components/MessageBubble.tsx",lineNumber:21,columnNumber:7},this),i.jsxDEV("p",{children:e.content||(e.streaming?"â€¦":"")},void 0,!1,{fileName:"/Users/dynamite/workspaces/biva-vxr-ui/src/components/MessageBubble.tsx",lineNumber:25,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/dynamite/workspaces/biva-vxr-ui/src/components/MessageBubble.tsx",lineNumber:20,columnNumber:5},this)}const p=["Xin chÃ o!","Giá»›i thiá»‡u sáº£n pháº©m ná»•i báº­t?","TÆ° váº¥n giÃºp tÃ´i","Káº¿t thÃºc cuá»™c gá»i."];function b({messages:n,status:r,onSend:t,onCancel:s,canCancel:o,lastError:a,conversationId:c,customerPhone:l,callcenterPhone:u,dryRun:b}){const[f,v]=e.useState(""),h=e.useRef(null),{bookingStatus:y,bookingResponse:N,triggerBooking:x,resetBooking:g}=m(),k="streaming"===r,w="ready"===r||"streaming"===r,E=e.useMemo(()=>[...n].sort((e,n)=>e.timestamp-n.timestamp),[n]);e.useEffect(()=>{g()},[c,g]);const j=async e=>{var n;e.preventDefault();const r=f.trim();if(r)try{await t(r),v(""),null==(n=h.current)||n.scrollIntoView({behavior:"smooth"})}catch(s){console.error(s)}};return i.jsxDEV("section",{className:"chat-panel glass-card",children:[i.jsxDEV("header",{className:"panel-title",children:[i.jsxDEV("span",{children:"Chat Arena"},void 0,!1,{fileName:"/Users/dynamite/workspaces/biva-vxr-ui/src/components/ChatPanel.tsx",lineNumber:94,columnNumber:17},this),k&&i.jsxDEV("span",{className:"badge badge-stream",children:"STREAMING"},void 0,!1,{fileName:"/Users/dynamite/workspaces/biva-vxr-ui/src/components/ChatPanel.tsx",lineNumber:95,columnNumber:33},this)]},void 0,!0,{fileName:"/Users/dynamite/workspaces/biva-vxr-ui/src/components/ChatPanel.tsx",lineNumber:93,columnNumber:13},this),i.jsxDEV("div",{className:"chat-log",children:[E.map((e,n)=>i.jsxDEV(d,{message:e,turn:n},e.id,!1,{fileName:"/Users/dynamite/workspaces/biva-vxr-ui/src/components/ChatPanel.tsx",lineNumber:100,columnNumber:21},this)),i.jsxDEV("div",{ref:h},void 0,!1,{fileName:"/Users/dynamite/workspaces/biva-vxr-ui/src/components/ChatPanel.tsx",lineNumber:102,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/dynamite/workspaces/biva-vxr-ui/src/components/ChatPanel.tsx",lineNumber:98,columnNumber:13},this),a&&i.jsxDEV("div",{className:"alert alert-error",children:[i.jsxDEV("strong",{children:"âš  Mission Alert:"},void 0,!1,{fileName:"/Users/dynamite/workspaces/biva-vxr-ui/src/components/ChatPanel.tsx",lineNumber:107,columnNumber:21},this)," ",a]},void 0,!0,{fileName:"/Users/dynamite/workspaces/biva-vxr-ui/src/components/ChatPanel.tsx",lineNumber:106,columnNumber:17},this),w&&i.jsxDEV("div",{className:"quick-replies",children:p.map(e=>i.jsxDEV("button",{className:"chip",type:"button",onClick:()=>v(e),children:e},e,!1,{fileName:"/Users/dynamite/workspaces/biva-vxr-ui/src/components/ChatPanel.tsx",lineNumber:114,columnNumber:25},this))},void 0,!1,{fileName:"/Users/dynamite/workspaces/biva-vxr-ui/src/components/ChatPanel.tsx",lineNumber:112,columnNumber:17},this),w&&!k&&i.jsxDEV("form",{className:"chat-input",onSubmit:j,children:[i.jsxDEV("textarea",{value:f,onChange:e=>v(e.target.value),onKeyDown:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),j(e))},placeholder:w?"Nháº­p tin nháº¯n... (Enter Ä‘á»ƒ gá»­i, Shift+Enter Ä‘á»ƒ xuá»‘ng dÃ²ng)":"initializing"===r?"Äang khá»Ÿi táº¡o cuá»™c trÃ² chuyá»‡n...":"Khá»Ÿi Ä‘á»™ng nhiá»‡m vá»¥ trÆ°á»›c...",disabled:"ready"!==r&&"streaming"!==r},void 0,!1,{fileName:"/Users/dynamite/workspaces/biva-vxr-ui/src/components/ChatPanel.tsx",lineNumber:128,columnNumber:21},this),i.jsxDEV("div",{className:"chat-actions",children:[i.jsxDEV("button",{type:"button",className:"btn btn-ghost",onClick:s,disabled:!o,children:"Abort"},void 0,!1,{fileName:"/Users/dynamite/workspaces/biva-vxr-ui/src/components/ChatPanel.tsx",lineNumber:142,columnNumber:25},this),i.jsxDEV("button",{type:"submit",className:"btn btn-primary",disabled:!w||k,children:"Send"},void 0,!1,{fileName:"/Users/dynamite/workspaces/biva-vxr-ui/src/components/ChatPanel.tsx",lineNumber:150,columnNumber:25},this)]},void 0,!0,{fileName:"/Users/dynamite/workspaces/biva-vxr-ui/src/components/ChatPanel.tsx",lineNumber:141,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/dynamite/workspaces/biva-vxr-ui/src/components/ChatPanel.tsx",lineNumber:127,columnNumber:17},this),k&&i.jsxDEV("div",{className:"streaming-indicator",children:i.jsxDEV("button",{type:"button",className:"btn btn-ghost",onClick:s,children:"â¹ Dá»«ng pháº£n há»“i"},void 0,!1,{fileName:"/Users/dynamite/workspaces/biva-vxr-ui/src/components/ChatPanel.tsx",lineNumber:163,columnNumber:21},this)},void 0,!1,{fileName:"/Users/dynamite/workspaces/biva-vxr-ui/src/components/ChatPanel.tsx",lineNumber:162,columnNumber:17},this),c&&i.jsxDEV("div",{className:"auto-booking-section",children:[i.jsxDEV("button",{type:"button",className:"btn btn-booking",onClick:async()=>{c?l?await x(c,l,E,u,b):alert("Vui lÃ²ng nháº­p sá»‘ Ä‘iá»‡n thoáº¡i khÃ¡ch hÃ ng trong cáº¥u hÃ¬nh!"):console.error("No conversation ID available")},disabled:"loading"===y,title:l?b?"Cháº¡y thá»­ Ä‘áº·t vÃ© (khÃ´ng Ä‘áº·t tháº­t)":"Äáº·t vÃ© tá»± Ä‘á»™ng dá»±a trÃªn ná»™i dung chat":"Vui lÃ²ng nháº­p sá»‘ Ä‘iá»‡n thoáº¡i khÃ¡ch hÃ ng",children:"loading"===y?i.jsxDEV(i.Fragment,{children:[i.jsxDEV("span",{className:"spinner",children:"â³"},void 0,!1,{fileName:"/Users/dynamite/workspaces/biva-vxr-ui/src/components/ChatPanel.tsx",lineNumber:180,columnNumber:33},this)," ",b?"Äang cháº¡y thá»­...":"Äang Ä‘áº·t vÃ©..."]},void 0,!0,{fileName:"/Users/dynamite/workspaces/biva-vxr-ui/src/components/ChatPanel.tsx",lineNumber:179,columnNumber:29},this):i.jsxDEV(i.Fragment,{children:b?"ðŸ§ª Cháº¡y thá»­ Ä‘áº·t vÃ©":"ðŸŽ« Äáº·t vÃ© tá»± Ä‘á»™ng"},void 0,!1,{fileName:"/Users/dynamite/workspaces/biva-vxr-ui/src/components/ChatPanel.tsx",lineNumber:183,columnNumber:29},this)},void 0,!1,{fileName:"/Users/dynamite/workspaces/biva-vxr-ui/src/components/ChatPanel.tsx",lineNumber:171,columnNumber:21},this),N&&i.jsxDEV("div",{className:`booking-response ${y}`,children:[i.jsxDEV("div",{className:"response-header",children:"success"===y?i.jsxDEV(i.Fragment,{children:[i.jsxDEV("span",{className:"icon",children:"âœ…"},void 0,!1,{fileName:"/Users/dynamite/workspaces/biva-vxr-ui/src/components/ChatPanel.tsx",lineNumber:191,columnNumber:39},this)," ",b?"Káº¿t quáº£ cháº¡y thá»­":"Káº¿t quáº£ Ä‘áº·t vÃ©"]},void 0,!0,{fileName:"/Users/dynamite/workspaces/biva-vxr-ui/src/components/ChatPanel.tsx",lineNumber:191,columnNumber:37},this):i.jsxDEV(i.Fragment,{children:[i.jsxDEV("span",{className:"icon",children:"âŒ"},void 0,!1,{fileName:"/Users/dynamite/workspaces/biva-vxr-ui/src/components/ChatPanel.tsx",lineNumber:193,columnNumber:39},this)," Lá»—i Ä‘áº·t vÃ©"]},void 0,!0,{fileName:"/Users/dynamite/workspaces/biva-vxr-ui/src/components/ChatPanel.tsx",lineNumber:193,columnNumber:37},this)},void 0,!1,{fileName:"/Users/dynamite/workspaces/biva-vxr-ui/src/components/ChatPanel.tsx",lineNumber:189,columnNumber:29},this),i.jsxDEV("pre",{className:"response-body",children:JSON.stringify(N,null,2)},void 0,!1,{fileName:"/Users/dynamite/workspaces/biva-vxr-ui/src/components/ChatPanel.tsx",lineNumber:196,columnNumber:29},this)]},void 0,!0,{fileName:"/Users/dynamite/workspaces/biva-vxr-ui/src/components/ChatPanel.tsx",lineNumber:188,columnNumber:25},this)]},void 0,!0,{fileName:"/Users/dynamite/workspaces/biva-vxr-ui/src/components/ChatPanel.tsx",lineNumber:170,columnNumber:17},this),!w&&i.jsxDEV("div",{className:"chat-disabled-notice",children:i.jsxDEV("div",{className:"notice-content",children:[i.jsxDEV("span",{className:"notice-icon",children:"ðŸš€"},void 0,!1,{fileName:"/Users/dynamite/workspaces/biva-vxr-ui/src/components/ChatPanel.tsx",lineNumber:207,columnNumber:25},this),i.jsxDEV("span",{className:"notice-text",children:"idle"===r?"Vui lÃ²ng khá»Ÿi Ä‘á»™ng nhiá»‡m vá»¥ Ä‘á»ƒ báº¯t Ä‘áº§u trÃ² chuyá»‡n":"initializing"===r?"Äang khá»Ÿi táº¡o cuá»™c trÃ² chuyá»‡n, vui lÃ²ng Ä‘á»£i...":"error"===r?"CÃ³ lá»—i xáº£y ra, vui lÃ²ng thá»­ láº¡i":"Vui lÃ²ng khá»Ÿi Ä‘á»™ng nhiá»‡m vá»¥ Ä‘á»ƒ báº¯t Ä‘áº§u trÃ² chuyá»‡n"},void 0,!1,{fileName:"/Users/dynamite/workspaces/biva-vxr-ui/src/components/ChatPanel.tsx",lineNumber:208,columnNumber:25},this)]},void 0,!0,{fileName:"/Users/dynamite/workspaces/biva-vxr-ui/src/components/ChatPanel.tsx",lineNumber:206,columnNumber:21},this)},void 0,!1,{fileName:"/Users/dynamite/workspaces/biva-vxr-ui/src/components/ChatPanel.tsx",lineNumber:205,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/dynamite/workspaces/biva-vxr-ui/src/components/ChatPanel.tsx",lineNumber:92,columnNumber:9},this)}const f=e=>e??"";function v({config:e,onChange:n,status:r,onInit:t,onReset:s,conversationId:o}){const a=r=>t=>{n({...e,[r]:t.target.value})};return i.jsxDEV("aside",{className:"config-panel glass-card",children:[i.jsxDEV("header",{className:"panel-title",children:[i.jsxDEV("span",{children:"Mission Loadout"},void 0,!1,{fileName:"/Users/dynamite/workspaces/biva-vxr-ui/src/components/ConfigPanel.tsx",lineNumber:81,columnNumber:17},this),o&&i.jsxDEV("span",{className:"badge",children:["ID: ",o]},void 0,!0,{fileName:"/Users/dynamite/workspaces/biva-vxr-ui/src/components/ConfigPanel.tsx",lineNumber:82,columnNumber:36},this)]},void 0,!0,{fileName:"/Users/dynamite/workspaces/biva-vxr-ui/src/components/ConfigPanel.tsx",lineNumber:80,columnNumber:13},this),i.jsxDEV("div",{className:"config-group",children:i.jsxDEV("label",{children:["Bot ID",i.jsxDEV("input",{type:"text",value:f(e.botId),onChange:a("botId"),placeholder:"UUID bot (optional)"},void 0,!1,{fileName:"/Users/dynamite/workspaces/biva-vxr-ui/src/components/ConfigPanel.tsx",lineNumber:88,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/dynamite/workspaces/biva-vxr-ui/src/components/ConfigPanel.tsx",lineNumber:86,columnNumber:17},this)},void 0,!1,{fileName:"/Users/dynamite/workspaces/biva-vxr-ui/src/components/ConfigPanel.tsx",lineNumber:85,columnNumber:13},this),i.jsxDEV("div",{className:"config-group",children:[i.jsxDEV("label",{children:["Customer Phone",i.jsxDEV("input",{type:"tel",value:f(e.customerPhone),onChange:a("customerPhone"),placeholder:"+84..."},void 0,!1,{fileName:"/Users/dynamite/workspaces/biva-vxr-ui/src/components/ConfigPanel.tsx",lineNumber:100,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/dynamite/workspaces/biva-vxr-ui/src/components/ConfigPanel.tsx",lineNumber:98,columnNumber:17},this),i.jsxDEV("label",{children:["Callcenter Phone",i.jsxDEV("input",{type:"tel",value:f(e.callcenterPhone),onChange:a("callcenterPhone"),placeholder:"1900..."},void 0,!1,{fileName:"/Users/dynamite/workspaces/biva-vxr-ui/src/components/ConfigPanel.tsx",lineNumber:109,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/dynamite/workspaces/biva-vxr-ui/src/components/ConfigPanel.tsx",lineNumber:107,columnNumber:17},this),i.jsxDEV("label",{style:{flexDirection:"row",alignItems:"center",gap:"8px"},children:[i.jsxDEV("input",{type:"checkbox",checked:e.dryRun??!1,onChange:r=>n({...e,dryRun:r.target.checked}),style:{width:"auto",margin:0}},void 0,!1,{fileName:"/Users/dynamite/workspaces/biva-vxr-ui/src/components/ConfigPanel.tsx",lineNumber:117,columnNumber:21},this),i.jsxDEV("span",{children:"Dry Run Mode (Cháº¿ Ä‘á»™ cháº¡y thá»­)"},void 0,!1,{fileName:"/Users/dynamite/workspaces/biva-vxr-ui/src/components/ConfigPanel.tsx",lineNumber:125,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/dynamite/workspaces/biva-vxr-ui/src/components/ConfigPanel.tsx",lineNumber:116,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/dynamite/workspaces/biva-vxr-ui/src/components/ConfigPanel.tsx",lineNumber:97,columnNumber:13},this),i.jsxDEV("div",{className:"config-group",children:[i.jsxDEV("label",{children:["Request From",i.jsxDEV("select",{value:e.requestFrom,onChange:a("requestFrom"),children:[i.jsxDEV("option",{value:"web_chat",children:"web_chat"},void 0,!1,{fileName:"/Users/dynamite/workspaces/biva-vxr-ui/src/components/ConfigPanel.tsx",lineNumber:136,columnNumber:25},this),i.jsxDEV("option",{value:"live_demo",children:"live_demo"},void 0,!1,{fileName:"/Users/dynamite/workspaces/biva-vxr-ui/src/components/ConfigPanel.tsx",lineNumber:137,columnNumber:25},this),i.jsxDEV("option",{value:"call_center",children:"call_center"},void 0,!1,{fileName:"/Users/dynamite/workspaces/biva-vxr-ui/src/components/ConfigPanel.tsx",lineNumber:138,columnNumber:25},this)]},void 0,!0,{fileName:"/Users/dynamite/workspaces/biva-vxr-ui/src/components/ConfigPanel.tsx",lineNumber:132,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/dynamite/workspaces/biva-vxr-ui/src/components/ConfigPanel.tsx",lineNumber:130,columnNumber:17},this),i.jsxDEV("label",{children:["Request ID",i.jsxDEV("input",{type:"text",value:f(e.requestId),onChange:a("requestId"),placeholder:"Auto náº¿u bá» trá»‘ng"},void 0,!1,{fileName:"/Users/dynamite/workspaces/biva-vxr-ui/src/components/ConfigPanel.tsx",lineNumber:143,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/dynamite/workspaces/biva-vxr-ui/src/components/ConfigPanel.tsx",lineNumber:141,columnNumber:17},this),i.jsxDEV("label",{children:["Index Override",i.jsxDEV("input",{type:"number",value:e.indexOverride??"",onChange:r=>n({...e,indexOverride:r.target.value?Number(r.target.value):void 0}),placeholder:"Auto increment"},void 0,!1,{fileName:"/Users/dynamite/workspaces/biva-vxr-ui/src/components/ConfigPanel.tsx",lineNumber:152,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/dynamite/workspaces/biva-vxr-ui/src/components/ConfigPanel.tsx",lineNumber:150,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/dynamite/workspaces/biva-vxr-ui/src/components/ConfigPanel.tsx",lineNumber:129,columnNumber:13},this),i.jsxDEV("div",{className:"config-group",children:[i.jsxDEV("header",{className:"group-title",children:"Input Slots"},void 0,!1,{fileName:"/Users/dynamite/workspaces/biva-vxr-ui/src/components/ConfigPanel.tsx",lineNumber:169,columnNumber:17},this),Object.entries(e.inputSlots).map(([r,t])=>{return i.jsxDEV("div",{className:"slot-row",children:[i.jsxDEV("input",{className:"slot-key",type:"text",value:r,onChange:(o=r,r=>{const t=r.target.value.trim();if(!t||t===o)return;if(e.inputSlots[t])return;const{[o]:s,...i}=e.inputSlots;n({...e,inputSlots:{...i,[t]:s}})})},void 0,!1,{fileName:"/Users/dynamite/workspaces/biva-vxr-ui/src/components/ConfigPanel.tsx",lineNumber:172,columnNumber:25},this),i.jsxDEV("input",{className:"slot-value",type:"text",value:t,onChange:(s=r,r=>{n({...e,inputSlots:{...e.inputSlots,[s]:r.target.value}})}),placeholder:'VÃ­ dá»¥: {"tier": "vip"}'},void 0,!1,{fileName:"/Users/dynamite/workspaces/biva-vxr-ui/src/components/ConfigPanel.tsx",lineNumber:178,columnNumber:25},this),i.jsxDEV("button",{type:"button",className:"btn btn-ghost",onClick:()=>(r=>{const t={...e.inputSlots};delete t[r],n({...e,inputSlots:t})})(r),children:"âœ•"},void 0,!1,{fileName:"/Users/dynamite/workspaces/biva-vxr-ui/src/components/ConfigPanel.tsx",lineNumber:185,columnNumber:25},this)]},r,!0,{fileName:"/Users/dynamite/workspaces/biva-vxr-ui/src/components/ConfigPanel.tsx",lineNumber:171,columnNumber:21},this);var s,o}),i.jsxDEV("button",{type:"button",className:"btn btn-secondary",onClick:()=>{let r=`slot_${Object.keys(e.inputSlots).length+1}`;for(;e.inputSlots[r];)r=`${r}_x`;n({...e,inputSlots:{...e.inputSlots,[r]:""}})},children:"+ Add Slot"},void 0,!1,{fileName:"/Users/dynamite/workspaces/biva-vxr-ui/src/components/ConfigPanel.tsx",lineNumber:194,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/dynamite/workspaces/biva-vxr-ui/src/components/ConfigPanel.tsx",lineNumber:168,columnNumber:13},this),i.jsxDEV("footer",{className:"config-actions",children:[i.jsxDEV("button",{type:"button",className:"btn btn-ghost",onClick:s,children:"Reset Loadout"},void 0,!1,{fileName:"/Users/dynamite/workspaces/biva-vxr-ui/src/components/ConfigPanel.tsx",lineNumber:200,columnNumber:17},this),i.jsxDEV("button",{type:"button",className:"btn btn-primary",onClick:t,disabled:"initializing"===r,children:"initializing"===r?"Launching...":"Launch Mission"},void 0,!1,{fileName:"/Users/dynamite/workspaces/biva-vxr-ui/src/components/ConfigPanel.tsx",lineNumber:203,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/dynamite/workspaces/biva-vxr-ui/src/components/ConfigPanel.tsx",lineNumber:199,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/dynamite/workspaces/biva-vxr-ui/src/components/ConfigPanel.tsx",lineNumber:79,columnNumber:9},this)}const h={idle:"IDLE",initializing:"SYNCING...",ready:"READY",streaming:"STREAMING",error:"ERROR"};function y({status:e,botSettings:n,conversationId:r,turn:t}){return i.jsxDEV("header",{className:"game-hud",children:[i.jsxDEV("div",{className:"hud-block",children:[i.jsxDEV("span",{className:"label",children:"STATUS"},void 0,!1,{fileName:"/Users/dynamite/workspaces/biva-vxr-ui/src/components/GameHud.tsx",lineNumber:23,columnNumber:9},this),i.jsxDEV("span",{className:`value status-${e}`,children:h[e]},void 0,!1,{fileName:"/Users/dynamite/workspaces/biva-vxr-ui/src/components/GameHud.tsx",lineNumber:24,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/dynamite/workspaces/biva-vxr-ui/src/components/GameHud.tsx",lineNumber:22,columnNumber:7},this),i.jsxDEV("div",{className:"hud-block",children:[i.jsxDEV("span",{className:"label",children:"MODEL"},void 0,!1,{fileName:"/Users/dynamite/workspaces/biva-vxr-ui/src/components/GameHud.tsx",lineNumber:27,columnNumber:9},this),i.jsxDEV("span",{className:"value",children:(null==n?void 0:n.model_name)??"â€”"},void 0,!1,{fileName:"/Users/dynamite/workspaces/biva-vxr-ui/src/components/GameHud.tsx",lineNumber:28,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/dynamite/workspaces/biva-vxr-ui/src/components/GameHud.tsx",lineNumber:26,columnNumber:7},this),i.jsxDEV("div",{className:"hud-block",children:[i.jsxDEV("span",{className:"label",children:"VOICE"},void 0,!1,{fileName:"/Users/dynamite/workspaces/biva-vxr-ui/src/components/GameHud.tsx",lineNumber:31,columnNumber:9},this),i.jsxDEV("span",{className:"value",children:(null==n?void 0:n.voice_id)??"â€”"},void 0,!1,{fileName:"/Users/dynamite/workspaces/biva-vxr-ui/src/components/GameHud.tsx",lineNumber:32,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/dynamite/workspaces/biva-vxr-ui/src/components/GameHud.tsx",lineNumber:30,columnNumber:7},this),i.jsxDEV("div",{className:"hud-block",children:[i.jsxDEV("span",{className:"label",children:"CONV ID"},void 0,!1,{fileName:"/Users/dynamite/workspaces/biva-vxr-ui/src/components/GameHud.tsx",lineNumber:35,columnNumber:9},this),i.jsxDEV("span",{className:"value",children:r??"â€”"},void 0,!1,{fileName:"/Users/dynamite/workspaces/biva-vxr-ui/src/components/GameHud.tsx",lineNumber:36,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/dynamite/workspaces/biva-vxr-ui/src/components/GameHud.tsx",lineNumber:34,columnNumber:7},this),i.jsxDEV("div",{className:"hud-block",children:[i.jsxDEV("span",{className:"label",children:"TURN"},void 0,!1,{fileName:"/Users/dynamite/workspaces/biva-vxr-ui/src/components/GameHud.tsx",lineNumber:39,columnNumber:9},this),i.jsxDEV("span",{className:"value",children:t},void 0,!1,{fileName:"/Users/dynamite/workspaces/biva-vxr-ui/src/components/GameHud.tsx",lineNumber:40,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/dynamite/workspaces/biva-vxr-ui/src/components/GameHud.tsx",lineNumber:38,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/dynamite/workspaces/biva-vxr-ui/src/components/GameHud.tsx",lineNumber:21,columnNumber:5},this)}const N=l(),x=()=>"undefined"!=typeof crypto&&"randomUUID"in crypto?crypto.randomUUID():Math.random().toString(36).slice(2),g=e=>{const n={};return Object.entries(e).forEach(([e,r])=>{if(r.trim())try{n[e]=JSON.parse(r)}catch(t){n[e]=r}}),n};function k(){const[n,r]=e.useState(()=>({requestFrom:"web_chat",inputSlots:{}})),{messages:t,status:s,botSettings:o,lastError:a,conversationId:c,turn:l,initConversation:u,sendMessage:m,cancel:d,reset:p}=function(){const[n,r]=e.useState([]),[t,s]=e.useState("idle"),[i,o]=e.useState(null),[a,c]=e.useState(null),[l,u]=e.useState(0),m=e.useRef(null),d=e.useRef(null),p=e.useCallback((e,n)=>{r(r=>r.map(r=>r.id!==e?r:"function"==typeof n?n(r):{...r,...n}))},[]),b=e.useCallback(async e=>{var n,t;null==(n=d.current)||n.abort(),s("initializing"),c(null),u(0);const i=(null==(t=e.conversationId)?void 0:t.trim())||x();m.current=i;const a={conversation_id:i,customer_phone:e.customerPhone||void 0,callcenter_phone:e.callcenterPhone||void 0},l=await fetch(`${N}/conversations/chat/stream/${e.botId}/init`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});if(!l.ok){const e=await l.text();throw s("error"),c(`Init failed (${l.status}): ${e}`),new Error(e)}const p=await l.json();o(p.bot_setting);const b={id:x(),role:"assistant",content:p.start_message,timestamp:Date.now()};return r([b]),s("ready"),i},[]),f=e.useCallback(async(e,t)=>{var i;if(!m.current)throw new Error("Conversation not initialized yet.");null==(i=d.current)||i.abort();const o=new AbortController;d.current=o;const a={id:x(),role:"user",content:e,timestamp:Date.now()},b=x(),f={id:b,role:"assistant",content:"",timestamp:Date.now(),streaming:!0};r(e=>[...e,a,f]),s("streaming"),c(null),[...n,a].filter(e=>"system"!==e.role).map(e=>({role:e.role,content:e.content}));const v="number"==typeof t.indexOverride?t.indexOverride:l,h={conversation_id:m.current,message:e,request_from:t.requestFrom,index:v,customer_phone:t.customerPhone||void 0,callcenter_phone:t.callcenterPhone||void 0,request_id:t.requestId||x(),input_slots:g(t.inputSlots)},y=await fetch(`${N}/conversations/chat/stream/900d0879-705d-4284-96c2-7d1a7156b026`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(h),signal:o.signal});if(!y.ok||!y.body){const e=await y.text();throw s("error"),c(`Stream failed (${y.status}): ${e}`),p(b,{streaming:!1,error:!0,content:e}),new Error(e)}const k=y.body.getReader(),w=new TextDecoder("utf-8");let E="",j=!1;const C=()=>{p(b,{streaming:!1}),s("ready"),u(e=>e+1),j=!0},D=e=>{if("[DONE]"!==e)try{const n=JSON.parse(e);(null==n?void 0:n.content)&&p(b,e=>({...e,content:`${e.content??""}${n.content}`}))}catch(n){p(b,n=>({...n,content:`${n.content??""}${e}`}))}else C()},P=(e,n=!1)=>{const r=e.split("\n\n"),t=n?"":r.pop()??"";for(const s of r){const e=s.split("\n");for(const n of e){if(!n.startsWith("data:"))continue;const e=n.replace(/^data:\s*/,"").trim();if(e&&(D(e),j))return t}}return t};try{for(;!j;){const{done:e,value:n}=await k.read();if(e){E+=w.decode(new Uint8Array,{stream:!1}),E=P(E,!0),j||C();break}E+=w.decode(n,{stream:!0}),E=P(E)}}catch(U){if("AbortError"===U.name)return p(b,{streaming:!1}),void s("ready");let e="Unknown error occurred";U instanceof TypeError&&U.message.includes("fetch")?e="Network error - please check your connection":U instanceof Error&&(e=U.message),p(b,{streaming:!1,error:!0,content:e}),s("error"),c(e)}},[n,l,p]),v=e.useCallback(()=>{var e;null==(e=d.current)||e.abort(),s(e=>"streaming"===e?"ready":e)},[]),h=e.useCallback(()=>{var e;null==(e=d.current)||e.abort(),m.current=null,r([]),o(null),s("idle"),c(null),u(0)},[]);return{messages:n,status:t,botSettings:i,lastError:a,conversationId:m.current,turn:l,initConversation:b,sendMessage:f,cancel:v,reset:h}}();return i.jsxDEV("div",{className:"game-shell",children:[i.jsxDEV(y,{status:s,botSettings:o,conversationId:c,turn:l},void 0,!1,{fileName:"/Users/dynamite/workspaces/biva-vxr-ui/src/App.tsx",lineNumber:37,columnNumber:7},this),i.jsxDEV("main",{className:"workspace",children:[i.jsxDEV(v,{config:n,onChange:r,status:s,onInit:async()=>{try{await u(n)}catch(e){console.error(e)}},onReset:()=>{p(),r({requestFrom:"web_chat",inputSlots:{}})},conversationId:c},void 0,!1,{fileName:"/Users/dynamite/workspaces/biva-vxr-ui/src/App.tsx",lineNumber:39,columnNumber:9},this),i.jsxDEV(b,{messages:t,status:s,onSend:async e=>{await m(e,n)},onCancel:d,canCancel:"streaming"===s,lastError:a,conversationId:c,customerPhone:n.customerPhone,callcenterPhone:n.callcenterPhone,dryRun:n.dryRun},void 0,!1,{fileName:"/Users/dynamite/workspaces/biva-vxr-ui/src/App.tsx",lineNumber:47,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/dynamite/workspaces/biva-vxr-ui/src/App.tsx",lineNumber:38,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/dynamite/workspaces/biva-vxr-ui/src/App.tsx",lineNumber:36,columnNumber:5},this)}o.createRoot(document.getElementById("root")).render(i.jsxDEV(r.StrictMode,{children:i.jsxDEV(k,{},void 0,!1,{fileName:"/Users/dynamite/workspaces/biva-vxr-ui/src/main.tsx",lineNumber:8,columnNumber:5},void 0)},void 0,!1,{fileName:"/Users/dynamite/workspaces/biva-vxr-ui/src/main.tsx",lineNumber:7,columnNumber:3},void 0));
